(()=>{var mainSel=document.createElement('select');mainSel.id='mainCategory';mainSel.style.display='none';document.body.appendChild(mainSel);mainSel.innerHTML='<option value="all">All</option>'
;document.querySelectorAll('.category-slider .cat-item').forEach(el=>el.addEventListener('click',function(){document.querySelectorAll('.category-slider .cat-item').forEach(x=>x.classList.remove('active'));el.classList.add('active');var cat=el.dataset.cat||'all';mainSel.value=cat;filterProducts(cat,'all')}));window.filterProducts=function(main,sub){if(!main)main='all';if(!sub)sub='all';document.querySelectorAll('.card').forEach(card=>{var c=(card.dataset.category||'all').toLowerCase();var s=(card.dataset.subcategory||'all').toLowerCase();var okMain=(main==='all'||c===main.toLowerCase());var okSub=(sub==='all'||s===sub.toLowerCase());card.style.display=(okMain&&okSub)?'block':'none'})}})();